# üß± 3DtoLEGO

This project converts 3D models of various cars into LEGO brick‚Äìbased 3D models.

It was primarily developed as part of my **bachelor's thesis** at the *Faculty of Computer and Information Science, University of Ljubljana*, and later published as a **research paper** with *doc. dr. Ciril Bohak* at the *International Conference in Central Europe on Computer Graphics, Visualization and Computer Vision (WSCG) 2025*.


## üìÅ Project Contents

| Folder / File | Description |
|----------------|-------------|
| `scripts/` | Python scripts and required modules |
| `brick_models/` | A selection of all usable LEGO bricks |
| `.zip` files | 3D models, voxelized models, and component models of various cars |


## üß© Requirements
- [**Blender 4.2.3 LTS**](https://www.blender.org/download/lts/)  
  *(Other versions may not be fully compatible.)*
- [**Visual Studio Code**](https://code.visualstudio.com/)
- **Blender Development Extension** for VS Code  
- Python libraries: [`numpy`](https://pypi.org/project/numpy/), [`scipy`](https://pypi.org/project/scipy/), [`binvox`](https://www.patrickmin.com/binvox/), [`binvox_rw`](https://github.com/dimatura/binvox-rw-py)


## üéûÔ∏è Generation & Connectivity Process

### üß± LEGO Model Generation

<img src="images/Progression/progression.gif" width="1000" alt="LEGO Model Generation">

### üîó Connectivity Algorithm

<img src="images/Progression/connectivity_algorithm.gif" width="1000" alt="Connectivity Algorithm">


## üöÄ Setup

1. **Download and install [Blender](https://www.blender.org/)**  
   - Version used: **4.2.3 LTS** (newer versions might not be fully compatible)
2. **Download and install [Visual Studio Code](https://code.visualstudio.com/)**  
3. Install the **‚ÄúBlender Development‚Äù** extension in VS Code  
4. Download the **car models**, **brick models**, and **scripts** from this repository  
   - Extract all the .zip files and organize them into a single project folder (some restructuring may be needed)
5. **Install the following Python libraries** into Blender‚Äôs built-in Python interpreter:
   ```bash
   pip install numpy scipy binvox
    ```
    - ‚ö†Ô∏è Note: The binvox_rw package needs to be installed locally because it is not on PyPI (pip install path/to/binvox_rw)

## How to use
1. **Choose the model you want to render by changing the following:**
   	- name of the voxelized model in load_model() in the HelperFunctions.py script
   	- name of the input 3D model in voxelize_model() in the HelperFunctions.py script
   	- obj.scale in move_main_object_to_starting_point() in the HelperFunctions.py script
	   - windscreen in the LegoModelGeneration.py() script (select only one, the taller or the shorter one, comment the other)
2. **Launch Blender using the "Blender Development" extenstion (LCTRL + SHIFT + P -> Blender: Start)**
3. **Run the script "LegoModelGeneration" (LCTRL + SHIFT + P -> Blender: Run Script)**


## üñºÔ∏è Examples

Here are some sample results generated by the 3DtoLEGO project:

| Original Model | LEGO Conversion |
|----------------|----------------|
| ![Original Sports Car](images/R8/r8_model_angled.png) | ![LEGO Sports Car](images/R8/r8_lego_angled.png) |
| ![Original Sports Car 2](images/Ferrari/ferrari_model_angled.png) | ![LEGO Sports Car 2](images/Ferrari/ferrari_lego_angled.png) |
| ![Original SUV](images/G-Class/g_class_model_angled.png) | ![LEGO SUV](images/G-Class/g_class_lego_angled.png) |
| ![Original Sedan](images/C-Class/c_class_model_angled.png) | ![LEGO Sedan](images/C-Class/c_class_lego_angled.png) |
| ![Original Sportswagon](images/RS4/rs4_model_angled.png) | ![LEGO Sportswagon](images/RS4/rs4_lego_angled.png) |
